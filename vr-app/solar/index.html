<!DOCTYPE html>
<html>

<head>
  <meta charset="utf-8">
  <title>VR太陽系図鑑</title>
  <!-- A-Frame の読み込み -->
  <script src="https://aframe.io/releases/1.5.0/aframe.min.js"></script>
  <!-- aframe-event-set-component の読み込み -->
  <script src="https://unpkg.com/aframe-event-set-component@4.2.1/dist/aframe-event-set-component.min.js"></script>
</head>

<body>

  <!-- ここから A-Frame -->
  <a-scene>

    <!-- 部品（アセット）の準備（事前読み込み） -->
    <a-assets>
      <!-- テクスチャ画像 -->
      <img id="texMilkyway" src="milkyway.jpg">
      <img id="texSun" src="sun.jpg">
      <img id="texFlare" src="flare.png">
      <img id="texMercury" src="mercury.jpg">
      <img id="texVenus" src="venus.jpg">
      <img id="texVenusSurface" src="venus_surface.jpg">
      <img id="texEarth" src="earth.jpg">
      <img id="texMoon" src="moon.jpg">
      <img id="texMars" src="mars.jpg">
      <img id="texJupiter" src="jupiter.jpg">
      <img id="texSaturn" src="saturn.jpg">
      <img id="texSaturnRing" src="saturn-ring.png">
      <img id="texUranus" src="uranus.jpg">
      <img id="texNeptune" src="neptune.jpg">
      <!-- OBJ 形式の 3DCG モデル -->
      <a-asset-item id="iss-obj" src="iss.obj"></a-asset-item>
      <a-asset-item id="iss-mtl" src="iss.mtl"></a-asset-item>
      <!-- 音声ファイル -->
      <audio id="sndSel" src="select.mp3"></audio>
      <!-- 動画ファイル -->
      <video id="movKaguya" src="kaguya.mp4" preload="auto"></video>
    </a-assets>

    <!-- 太陽（Sun）真上に配置 -->
    <a-sphere id="sun" position="0 5.6 0" rotation="90 0 0" scale="1.5 1.5 1.5" src="#texSun" color="#333333"
      animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtSun; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtSun; visible: false;">
      <!-- フレア（2D画像）太陽にネストして配置 -->
      <a-image id="flare" src="#texFlare" width="2.8" height="2.6">
      </a-image>
    </a-sphere>
    <!-- 太陽のテキスト -->
    <a-text id="txtSun" value="Sun" position="0 4 0" rotation="90 0 0" align="center" width="5" color="#000000"
      visible="false">
    </a-text>

    <!-- 水星（Mercury）正面に配置 -->
    <a-sphere id="mercury" position="0 1.6 -4" src="#texMercury" color="#333333" animation="property: rotation;
        to: 0 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtMercury; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtMercury; visible: false;">
    </a-sphere>
    <!-- 水星のテキスト -->
    <a-text id="txtMercury" value="Mercury" position="0 0.2 -4" align="center" width="5" color="#FFFFFF"
      visible="false">
    </a-text>

    <!-- 金星（Venus）右前に配置 -->
    <a-sphere id="venus" position="2.83 1.6 -2.83" src="#texVenus" color="#333333" animation="property: rotation;
        to: 0 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtVenus; visible: true;"
      event-set__click="_event: click; src: #texVenusSurface;"
      event-set__leave="_event: mouseleave; _target: #txtVenus; visible: false;"
      event-set__leave2="_event: mouseleave; src: #texVenus;">
    </a-sphere>
    <!-- 金星のテキスト -->
    <a-text id="txtVenus" value="Venus" position="2.83 0.2 -2.83" rotation="0 -45 0" align="center" width="5"
      color="#FFFFFF" visible="false">
    </a-text>

    <!-- 地球（Earth）右に配置 -->
    <a-sphere id="earth" position="4 1.6 0" src="#texEarth" color="#333333" animation="property: rotation;
        to: 0 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtEarth; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtEarth; visible: false;">
      <!-- 月（Moon）地球にネストして配置 -->
      <a-sphere id="moon" position="-1 0 -1" scale="0.25 0.25 0.25" src="#texMoon" color="#333333" animation__enter="startEvents: mouseenter;
          property: material.color;
          to: #FFFFFF;
          dur: 500;" animation__leave="startEvents: mouseleave;
          property: material.color;
          to: #333333;
          dur: 500;" sound="src: #sndSel; on: mouseenter;">
      </a-sphere>
    </a-sphere>
    <!-- 地球のテキスト -->
    <a-text id="txtEarth" value="Earth & Moon" position="4 0.2 0" rotation="0 -90 0" align="center" width="5"
      color="#FFFFFF" visible="false">
    </a-text>
    <!-- 地球の動画 -->
    <a-video id="movKaguya" src="#movKaguya" position="4 3 0" rotation="15 -90 0" width="4" height="2.25">
    </a-video>

    <!-- 火星（Mars）右後に配置 -->
    <a-sphere id="mars" position="2.83 1.6 2.83" src="#texMars" color="#333333" animation="property: rotation;
        to: 0 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtMars; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtMars; visible: false;">
    </a-sphere>
    <!-- 火星のテキスト -->
    <a-text id="txtMars" value="Mars" position="2.83 0.2 2.83" rotation="0 -135 0" align="center" width="5"
      color="#FFFFFF" visible="false">
    </a-text>

    <!-- 木星（Jupiter）背面に配置 -->
    <a-sphere id="jupiter" position="0 1.6 4" src="#texJupiter" color="#333333" animation="property: rotation;
        to: 0 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtJupiter; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtJupiter; visible: false;">
    </a-sphere>
    <!-- 木星のテキスト -->
    <a-text id="txtJupiter" value="Jupiter" position="0 0.2 4" rotation="0 180 0" align="center" width="5"
      color="#FFFFFF" visible="false">
    </a-text>

    <!-- 土星（Saturn）左後に配置 -->
    <a-sphere id="saturn" position="-2.83 1.6 2.83" rotation="-20 0 0" scale="0.6 0.6 0.6" src="#texSaturn"
      color="#333333" animation="property: rotation;
        to: -20 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtSaturn; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtSaturn; visible: false;">
      <!-- リング（2D画像）土星にネストして配置 -->
      <a-image id="saturnring" src="#texSaturnRing" rotation="90 0 0" width="6" height="6">
      </a-image>
    </a-sphere>
    <!-- 土星のテキスト -->
    <a-text id="txtSaturn" value="Saturn" position="-2.83 0.2 2.83" rotation="0 135 0" align="center" width="5"
      color="#FFFFFF" visible="false">
    </a-text>

    <!-- 天王星（Uranus）左に配置 -->
    <a-sphere id="uranus" position="-4 1.6 0" src="#texUranus" color="#333333" animation="property: rotation;
        to: 0 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtUranus; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtUranus; visible: false;">
    </a-sphere>
    <!-- 天王星のテキスト -->
    <a-text id="txtUranus" value="Uranus" position="-4 0.2 0" rotation="0 90 0" align="center" width="5" color="#FFFFFF"
      visible="false">
    </a-text>

    <!-- 海王星（Neptune）左前に配置 -->
    <a-sphere id="neptune" position="-2.83 1.6 -2.83" src="#texNeptune" color="#333333" animation="property: rotation;
        to: 0 360 0;
        dur: 20000;
        loop: true;
        easing: linear" animation__enter="startEvents: mouseenter;
        property: material.color;
        to: #FFFFFF;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: material.color;
        to: #333333;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtNeptune; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtNeptune; visible: false;">
    </a-sphere>
    <!-- 海王星のテキスト -->
    <a-text id="txtNeptune" value="Neptune" position="-2.83 0.2 -2.83" rotation="0 45 0" align="center" width="5"
      color="#FFFFFF" visible="false">
    </a-text>

    <!-- 国際宇宙ステーション (ISS) の OBJモデル -->
    <a-obj-model id="iss" src="#iss-obj" mtl="#iss-mtl" position="0 -4 0" scale="8 8 8" color="#333333" animation="property: rotation;
        to: 360 360 0;
        dur: 20000;
        loop: true;
        easing: linear;" animation__enter="startEvents: mouseenter;
        property: scale;
        to: 10 10 10;
        dur: 500;" animation__leave="startEvents: mouseleave;
        property: scale;
        to: 8 8 8;
        dur: 500;" sound="src: #sndSel; on: mouseenter;"
      event-set__enter="_event: mouseenter; _target: #txtISS; visible: true;"
      event-set__leave="_event: mouseleave; _target: #txtISS; visible: false;">
    </a-obj-model>
    <!-- ISS のテキスト -->
    <a-text id="txtISS" value="ISS; International Space Station" position="0 -3 -0.5" rotation="-90 0 0" align="center"
      width="5" color="#FFFFFF" visible="false">
    </a-text>

    <!-- 天球（天の川） -->
    <a-sky src="#texMilkyway"></a-sky>

    <!-- 視線カーソル -->
    <a-camera>
      <a-cursor fuse="true" fuse-timeout="1000"></a-cursor>
    </a-camera>

  </a-scene>
  <!-- A-Frame ここまで -->

  <!-- ここから JavaScript -->
  <script>
    // A-Frame のオブジェクトを JavaScript で制御
    const earth = document.getElementById("earth");         // 地球を取得
    const movKaguya = document.getElementById("movKaguya"); // 動画を取得
    earth.addEventListener("mouseenter", (e) => {           // mouseenterイベントが起きたら
      movKaguya.play();                                     // 動画を再生
    });
    earth.addEventListener("mouseleave", (e) => {           // mouseleaveイベントが起きたら
      movKaguya.pause();                                    // 動画を停止
    });
  </script>
</body>

</html>